<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potato Clicker</title>
    <link rel="stylesheet" href="style.css">
    <style id="prestige-locked-style">
        #prestige-tab-button.prestige-locked {
            opacity: 0.5;
            pointer-events: none;
            position: relative;
        }
        #prestige-tab-button.prestige-locked::after {
            content: " (Locked)";
            color: #ffc400;
            font-size: 0.95em;
            margin-left: 4px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="golden-potato-container"></div>
        <div id="left-column">
            <h1>Potato Clicker</h1>
            <div id="potato-container">
                <img src="Assets/potato.svg" id="potato" alt="A glorious potato">
                <div id="potato-text-overlay"></div>
            </div>
            <div id="stats">
                <p>Potatoes: <span id="potatoes">0</span></p>
                <p>Potatoes per second: <span id="pps">0</span></p>
                <p>âœ¨ Starch: <span id="starch">0</span></p>
            </div>
            <div id="buff-display"></div>
            <div id="settings-button-container">
                <button id="achievements-btn">Achievements</button>
                <button id="research-btn" style="display: none;">Research</button>
                <button id="settings-btn">Settings</button>
            </div>
        </div>

        <div id="middle-column" class="column">
            <div class="tabs">
                <button class="tab-link active" data-tab="generators-tab">Generators</button>
                <button class="tab-link" data-tab="prestige-tab" id="prestige-tab-button" title="Prestige unlocks when you have earned 1 trillion potatoes.\nProgress: 0%">Prestige</button>
            </div>

            <div id="generators-tab" class="tab-content active">
                <div id="generators-container">
                    <!-- Generators will be dynamically added here by script.js -->
                </div>
            </div>

            <div id="prestige-tab" class="tab-content">
                <h2>The Mashing</h2>
                <p>Reset your game to earn Starch (âœ¨) and unlock powerful permanent upgrades.</p>
                <div id="prestige-requirements" style="margin-bottom: 10px; color: #ffc400; font-size: 1.1em;">
                    <span id="prestige-req-text">Prestige unlocks when you have earned 100 million potatoes. Progress: 0%</span>
                </div>
                <div id="prestige-info">
                    <p>Mash now to gain: <span id="prestige-gain">0</span> âœ¨</p>
                </div>
                <button id="prestige-reset-button" class="danger">Mash 'em!</button>
                <hr>
                <h3>Starch Upgrades</h3>
                <div id="prestige-upgrades-container">
                    <!-- Prestige upgrades will be dynamically added here -->
                </div>
            </div>
        </div>

        <div id="right-column" class="column">
            <h2>Upgrades</h2>
            <div id="upgrades-container">

            </div>
        </div>
    </div>

    <!-- Research Modal -->
    <div id="research-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Research Lab</h2>
            <p>Unlock powerful, permanent technologies. Research points are generated passively based on your PPS.</p>
            <div id="research-stats">
                <p>ðŸ”¬ Research Points: <span id="research-points">0</span></p>
            </div>
            <hr>
            <div id="research-container">
                <!-- Research projects will be dynamically added here -->
            </div>
            <button class="close-btn">&times;</button>
        </div>
    </div>

    <!-- Settings -->
    <div id="settings-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Settings</h2>
            <p>Game data is saved to your browser automatically.</p>
            <div class="modal-buttons">
                <button id="manual-save-btn">Manual Save</button>
                <button id="export-save-btn">Export Save</button>
                <button id="import-save-btn">Import Save</button>
                <button id="wipe-save-btn" class="danger">Wipe Save</button>
            </div>
            <div class="attribution">
                <p><a href="https://iconscout.com/icons/potato" target="_blank">Potato</a> by <a href="https://iconscout.com/contributors/fluent-emoji" target="_blank">Fluent Emoji &lt;&gt; Microsoft</a> on <a href="https://iconscout.com" target="_blank">IconScout</a></p>
            </div> 
            <button class="close-btn">&times;</button>
        </div>
    </div>

    <!-- Achievements Modal -->
    <div id="achievements-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Achievements</h2>
            <div id="achievements-grid">
                <!-- Achievements will be dynamically added here -->
            </div>
            <button class="close-btn">&times;</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
